# 18å››æ•°ä¹‹å’Œï¼ˆä¸­ç­‰ï¼‰

[18. å››æ•°ä¹‹å’Œ ](https://leetcode.cn/problems/4sum/description/)

## é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªç”± `n` ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target` ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ä¸”**ä¸é‡å¤**çš„å››å…ƒç»„ `[nums[a], nums[b], nums[c], nums[d]]` ï¼ˆè‹¥ä¸¤ä¸ªå››å…ƒç»„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå››å…ƒç»„é‡å¤ï¼‰ï¼š

- `0 <= a, b, c, d < n`
- `a`ã€`b`ã€`c` å’Œ `d` **äº’ä¸ç›¸åŒ**
- `nums[a] + nums[b] + nums[c] + nums[d] == target`

ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆ ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,0,-1,0,-2,2], target = 0
è¾“å‡ºï¼š[[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [2,2,2,2,2], target = 8
è¾“å‡ºï¼š[[2,2,2,2]]
```

 

**æç¤ºï¼š**

- `1 <= nums.length <= 200`
- `-10^9 <= nums[i] <= 10^9`
- `-10^9 <= target <= 10^9`

## æˆ‘çš„C++è§£æ³•

ç°åœ¨çš„æ€æƒ³å°±æ˜¯ä¸‰æ•°ä¹‹å’Œçš„æ¨å¹¿ã€‚éœ€è¦å››ä¸ªæŒ‡é’ˆï¼Œåˆå§‹çŠ¶æ€aæŒ‡å‘é¦–ï¼ŒbæŒ‡å‘aä¸‹ä¸€ä¸ªï¼ŒcæŒ‡å‘då‰ä¸€ä¸ªï¼ŒdæŒ‡å‘æœ€åä¸€ä¸ªã€‚åˆ’åˆ†ä¸ºä¸‰ä¸ªåŒºé—´ã€‚å…¶ä¸­å¯¹æœ€å¤–ä¾§ä¸¤ä¸ªæŒ‡é’ˆaå’Œdçš„åˆ¤æ–­æ˜¯åˆ†åˆ«ä¸å¤§äºå’Œä¸å°äºtarget

ç†è®ºå­˜åœ¨

åœ¨ç¼–å†™æœŸé—´å‡ºç°äº†ä¸å°‘é—®é¢˜

æœ€å¸¸è§çš„é”™è¯¯æ˜¯æ•°ç»„è¶Šç•Œï¼Œå› ä¸ºæ²¡æœ‰å¯¹abcdåˆ†åˆ«åšå‡ºé™åˆ¶ã€‚ä¿®æ”¹æ–¹æ¡ˆæ˜¯åœ¨forå¾ªç¯ä¸­ä¿è¯aå’Œdä¹‹é—´æ•°å­—ä¸ªæ•°èƒ½å¤Ÿå¤§äºç­‰äº4

åˆä¸€ä¸ªé”™è¯¯æ˜¯å½“åˆå§‹å‡ ä¸ªå…ƒç´ ç›¸ç­‰æ—¶ï¼Œbä¿®æ”¹ä¼šè¶Šè¿‡ä¸€äº›æ•°å­—ï¼Œå› ä¸ºæ²¡æœ‰å‡å»aè¿™ä¸ªå“ˆå¸Œå€¼ã€‚ä¿®æ”¹æ–¹æ¡ˆæ˜¯å’Œæ˜¨å¤©æˆ‘çš„ä¸‰æ•°ä¹‹å’Œä¸€æ ·ï¼Œforå¾ªç¯å¼€å¤´å“ˆå¸Œå€¼è‡ªå‡ä¸€ï¼Œç»“å°¾å“ˆå¸Œå€¼è‡ªå¢1ï¼Œä¿è¯bå’Œcçš„å˜åŒ–ä¸è·³æ­¥ã€‚

ç°åœ¨åˆå‡ºç°äº†ä¸€ä¸ªé”™è¯¯ï¼šè¾“å…¥`nums=[1,-2,-5,-4,-3,3,3,5]`,`target=-11`ï¼Œè¿™æ ·çš„è¯æˆ‘åœ¨açš„forä¸­çš„åˆ¤æ–­`nums[a]<=target`å°±æ¯«æ— ä½œç”¨äº†ã€‚è§£å†³æ–¹æ³•ï¼šåˆ é™¤å¯¹numsã€aã€‘çš„é™åˆ¶ã€‚è¿™æ ·æ”¹çš„è¯ï¼Œä¸å‡ºæ„å¤–åœ°è¶…æ—¶äº†ã€‚éœ€è¦å†æ¬¡å¢åŠ targetå’Œåˆå§‹å…ƒç´ ã€æœ«å°¾å…ƒç´ çš„åˆ¤æ–­ï¼Œè®©aæˆ–è€…dç¼©å°èŒƒå›´

çœŸtmæ— è¯­å•Š`nums =[0,0,0,1000000000,1000000000,1000000000,1000000000]`ï¼Œç„¶å`runtime error: signed integer overflow: 1000000000 * 4 cannot be represented in type 'int' (solution.cpp)`

çœŸtmæ— è¯­äº†ï¼Œè¿™ä¸ªé¢˜çœŸæ˜¯å¸é©¬äº†ï¼Œä¸æ˜¯è¿™é‡Œå‡ºé”™å°±æ˜¯é‚£é‡Œå‡ºé”™

nmbçœŸæ¶å¿ƒï¼Œæˆ‘æŠ•é™äº†ï¼ŒçœŸå†™ä¸å‡ºæ¥ï¼Œnmè€ƒè™‘çš„ä¸œè¥¿å¤ªå¤šäº†ã€‚

```cpp
class Solution {
public:
    vector<vector<int>> fourSum(vector<int>& nums, int target) {
        //å’Œä¸‰æ•°ä¹‹å’Œçš„æ€è·¯ç±»ä¼¼
        //æˆ‘ç°åœ¨ï¼ˆåˆšçœ‹åˆ°è¿™ä¸ªé¢˜ï¼‰çš„æƒ³æ³•æ˜¯æ’åºåå¤´å°¾å„ä¸€ä¸ªæŒ‡é’ˆï¼ŒåŒºé—´å†…ä¸¤ä¸ªæŒ‡é’ˆ
        // è¦ä¸å¤´æŒ‡é’ˆæœ€è¿œæŒ‡åˆ°0ï¼Œå°¾æŒ‡é’ˆæœ€è¿‘æŒ‡åˆ°0 ä¸è¡Œå•Šï¼Œè¿™ä¸ªé—®é¢˜ä¸æ˜¯æ±‚å’Œä¸º0ï¼Œè€Œæ˜¯ä¼ å…¥targetï¼Œä¸çŸ¥é“é¦–æŒ‡é’ˆçš„æœ€è¿œ
        int n = nums.size();
        vector<vector<int>> result;
        if(n<4) return result;
        sort(nums.begin(),nums.end());
        if(nums[0]==nums[n-1]){
            //åªæœ‰ä¸€ç§å…ƒç´ 
            if(target>=0 && nums[0]>target) return result;
            if(target<0 && nums[0]<=target) return result;
            if(nums[0]*4==target){
                result.push_back({nums[0],nums[0],nums[0],nums[0]});
            }
            return result;
        }
        if(nums[0]*4>target)    return result;
        // if(long(nums[n-1]*4)<target)  return result;
        //å»é‡æ“ä½œæ„Ÿè§‰è¿˜æ˜¯å“ˆå¸Œå¥½ç”¨
        unordered_map<int,int> hash_map;
        for(int i =0;i<n;i++){
            hash_map[nums[i]]++;
        }
        int d = n-1;
        // cout<<d<<endl;
        for(int a=0 ; a<n && a<d-2;a+=hash_map[nums[a]]){
            hash_map[nums[a]]--;
            // cout<<"å½“å‰çš„aï¼š"<<a<<endl;
            // cout<<"å¯¹aå¾ªç¯ä¸­çš„då€¼:"<<d<<endl;
            // int d = n-1;d>=0 && nums[d]>=target;d-=hash_map[nums[d]]
            for(;d>a+2;d-=hash_map[nums[d]]){
                hash_map[nums[d]]--;
                // cout<<"å¯¹då¾ªç¯ï¼Œdï¼š"<<d<<endl;
                int b = a+1;
                int c = d-1;
                while(b<c && b<d && c>a){
                    while(nums[a]+nums[b]+nums[c]+nums[d]>target && b<c)   
                        {c-=hash_map[nums[c]];
                        // cout<<"æœ¬æ¬¡ä¿®æ”¹äº†cä¸ºï¼š"<<c<<endl;
                    }
                    while(nums[a]+nums[b]+nums[c]+nums[d]<target && b<c)   
                        {b+=hash_map[nums[b]];
                        // cout<<"æœ¬æ¬¡ä¿®æ”¹äº†bä¸ºï¼š"<<b<<endl;
                    }
                    if(nums[a]+nums[b]+nums[c]+nums[d]==target && b<c){
                        result.push_back({nums[a],nums[b],nums[c],nums[d]});
                        c-=hash_map[nums[c]];
                        b+=hash_map[nums[b]];
                    }
                }
                hash_map[nums[d]]++;
            }
            // cout<<"å†…éƒ¨å¾ªç¯ç»“æŸd :"<<d;
            d=n-1;
            hash_map[nums[a]]++;
        }
        return result;
    }
};
```

æˆ‘è‰æ³¥é©¬

å“ªä¸ªå‚»é€¼å‡ºçš„è¿™é¢˜ï¼Œnmä½¿ç”¨ä¾‹çœŸæ˜¯ä¸€å¨ç‹—å±ï¼Œéè¦æç‚¹æº¢å‡º

```cpp
class Solution {
public:
    vector<vector<int>> fourSum(vector<int>& nums, int target) {
        //å’Œä¸‰æ•°ä¹‹å’Œçš„æ€è·¯ç±»ä¼¼
        //æˆ‘ç°åœ¨ï¼ˆåˆšçœ‹åˆ°è¿™ä¸ªé¢˜ï¼‰çš„æƒ³æ³•æ˜¯æ’åºåå¤´å°¾å„ä¸€ä¸ªæŒ‡é’ˆï¼ŒåŒºé—´å†…ä¸¤ä¸ªæŒ‡é’ˆ
        // è¦ä¸å¤´æŒ‡é’ˆæœ€è¿œæŒ‡åˆ°0ï¼Œå°¾æŒ‡é’ˆæœ€è¿‘æŒ‡åˆ°0 ä¸è¡Œå•Šï¼Œè¿™ä¸ªé—®é¢˜ä¸æ˜¯æ±‚å’Œä¸º0ï¼Œè€Œæ˜¯ä¼ å…¥targetï¼Œä¸çŸ¥é“é¦–æŒ‡é’ˆçš„æœ€è¿œ
        int n = nums.size();
        vector<vector<int>> result;
        if(n<4) return result;
        sort(nums.begin(),nums.end());
        // if(target==1000000000)  return {{0,0,0,1000000000}};
        // if(target==-1000000000)  return {{0,0,0,-1000000000}};
        // if(target==-294967296)  return result;
        // if(target==294967296)  return result;
        if(nums[0]==nums[n-1]){
            //åªæœ‰ä¸€ç§å…ƒç´ 
            if(target>=0 && nums[0]>target) return result;
            if(target<0 && nums[0]<=target) return result;
            if(long(nums[0])*4==target){
                result.push_back({nums[0],nums[0],nums[0],nums[0]});
            }
            return result;
        }
        // if(nums[0]*4>target)    return result;
        // if(long(nums[n-1]*4)<target)  return result;
        //å»é‡æ“ä½œæ„Ÿè§‰è¿˜æ˜¯å“ˆå¸Œå¥½ç”¨
        unordered_map<int,int> hash_map;
        for(int i =0;i<n;i++){
            hash_map[nums[i]]++;
        }
        int d = n-1;
        // cout<<d<<endl;
        for(int a=0 ; a<n && a<d-2;a+=hash_map[nums[a]]){
            hash_map[nums[a]]--;
            // cout<<"å½“å‰çš„aï¼š"<<a<<endl;
            // cout<<"å¯¹aå¾ªç¯ä¸­çš„då€¼:"<<d<<endl;
            // int d = n-1;d>=0 && nums[d]>=target;d-=hash_map[nums[d]]
            for(;d>a+2;d-=hash_map[nums[d]]){
                hash_map[nums[d]]--;
                // cout<<"å¯¹då¾ªç¯ï¼Œdï¼š"<<d<<endl;
                int b = a+1;
                int c = d-1;
                while(b<c && b<d && c>a){
                    while(long(nums[a])+long(nums[b])+long(nums[c])+long(nums[d])>target && b<c)   
                        {c-=hash_map[nums[c]];
                        // cout<<"æœ¬æ¬¡ä¿®æ”¹äº†cä¸ºï¼š"<<c<<endl;
                    }
                    while(long(nums[a])+long(nums[b])+long(nums[c])+long(nums[d])<target && b<c)   
                        {b+=hash_map[nums[b]];
                        // cout<<"æœ¬æ¬¡ä¿®æ”¹äº†bä¸ºï¼š"<<b<<endl;
                    }
                    if(long(nums[a])+long(nums[b])+long(nums[c])+long(nums[d])==target && b<c){
                        result.push_back({nums[a],nums[b],nums[c],nums[d]});
                        c-=hash_map[nums[c]];
                        b+=hash_map[nums[b]];
                    }
                }
                hash_map[nums[d]]++;
            }
            // cout<<"å†…éƒ¨å¾ªç¯ç»“æŸd :"<<d;
            d=n-1;
            hash_map[nums[a]]++;
        }
        return result;
    }
};
```

ç»“æœï¼š

![image-20240512120349786](./assets/image-20240512120349786.png)

nmå…¶ä»–aå‡ºæ¥çš„æ˜¯ä»€ä¹ˆç¥äººå•ŠğŸ˜…

## C++å‚è€ƒç­”æ¡ˆ

æœ¬é¢˜çš„å‘æœ‰å¾ˆå¤šï¼š

1. ä¸èƒ½æ²¿ç”¨ä¸‰æ•°ä¹‹å’Œçš„`num[a]>target`åˆ¤æ–­æ¥è¿”å›äº†ï¼Œå› ä¸ºtargetæ˜¯ä¼ å…¥çš„æ•°æ®ï¼Œä¸ä¸€å®šæ˜¯éè´Ÿæ•°ã€‚æ¯”å¦‚`[-4,-1,0,0]`ç„¶å`target=-5`ï¼Œå¦‚æœåˆ¤æ–­-4>-5ç„¶åç›´æ¥è¿”å›çš„è¯æ˜¯é”™è¯¯çš„ã€‚
2. æ•°ç»„çš„é•¿åº¦æ²¡æœ‰é™åˆ¶ï¼Œéœ€è¦åˆ¤æ–­é•¿åº¦å¤§äºç­‰äºå››
3. å½“æ•°ç»„åªæœ‰åŒä¸€ç§å…ƒç´ çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æ¯”è¾ƒtargetå’Œå››å€çš„å€¼å³å¯
4. å…ƒç´ çš„èŒƒå›´å¾ˆå¤§ï¼Œintå‹æ•°æ®æœ‰å¯èƒ½ä¼šæº¢å‡º
5. å¦‚æœä½¿ç”¨å“ˆå¸Œè¡¨æ¥å‰ªæï¼Œä¸€å®šè¦ç†æ¸…æ¥šæ€è·¯ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™å¯¹åº”å“ˆå¸Œå‡ä¸€ï¼Œä»€ä¹ˆæ—¶å€™å¯¹åº”çš„å“ˆå¸ŒåŠ ä¸€
6. å®é™…ä¸Šå¯¹ä¸¤ä¸ªå¿«æŒ‡é’ˆæ¥è¯´ï¼Œå¤–å±‚çš„ä¸€ä¸ªwhileå¾ªç¯å³å¯ï¼Œå¦‚æœå†…å±‚åƒæˆ‘ä¸Šé¢é‚£æ ·ä¹Ÿæ˜¯whileå¾ªç¯ï¼Œåˆ™éœ€è¦é¢å¤–æ·»åŠ å¾ˆå¤šçš„åˆ¤æ–­ã€åˆå§‹åŒ–ç­‰æ“ä½œã€‚

ä»£ç éšæƒ³å½•çš„åšæ³•ï¼šæˆ‘å¹¶ä¸è®¤ä¸ºä»–çš„åšæ³•çš„å‰ªææ“ä½œå¾ˆå¥½ï¼Œè¿™ä¸ªåšæ³•åè€Œå¾ˆä¹±

```cpp
class Solution {
public:
    vector<vector<int>> fourSum(vector<int>& nums, int target) {
        vector<vector<int>> result;
        sort(nums.begin(), nums.end());
        for (int k = 0; k < nums.size(); k++) {
            // å‰ªæå¤„ç†
            if (nums[k] > target && nums[k] >= 0) {
            	break; // è¿™é‡Œä½¿ç”¨breakï¼Œç»Ÿä¸€é€šè¿‡æœ€åçš„returnè¿”å›
            }
            // å¯¹nums[k]å»é‡
            if (k > 0 && nums[k] == nums[k - 1]) {
                continue;
            }
            for (int i = k + 1; i < nums.size(); i++) {
                // 2çº§å‰ªæå¤„ç†
                if (nums[k] + nums[i] > target && nums[k] + nums[i] >= 0) {
                    break;
                }

                // å¯¹nums[i]å»é‡
                if (i > k + 1 && nums[i] == nums[i - 1]) {
                    continue;
                }
                int left = i + 1;
                int right = nums.size() - 1;
                while (right > left) {
                    // nums[k] + nums[i] + nums[left] + nums[right] > target ä¼šæº¢å‡º
                    if ((long) nums[k] + nums[i] + nums[left] + nums[right] > target) {
                        right--;
                    // nums[k] + nums[i] + nums[left] + nums[right] < target ä¼šæº¢å‡º
                    } else if ((long) nums[k] + nums[i] + nums[left] + nums[right]  < target) {
                        left++;
                    } else {
                        result.push_back(vector<int>{nums[k], nums[i], nums[left], nums[right]});
                        // å¯¹nums[left]å’Œnums[right]å»é‡
                        while (right > left && nums[right] == nums[right - 1]) right--;
                        while (right > left && nums[left] == nums[left + 1]) left++;

                        // æ‰¾åˆ°ç­”æ¡ˆæ—¶ï¼ŒåŒæŒ‡é’ˆåŒæ—¶æ”¶ç¼©
                        right--;
                        left++;
                    }
                }

            }
        }
        return result;
    }
};
```

<img src="./assets/image-20240512165236144.png" alt="image-20240512165236144" style="zoom: 80%;" />

```cpp
class Solution {
public:
    vector<vector<int>> fourSum(vector<int> &nums, int target) {
        sort(nums.begin(), nums.end());
        vector<vector<int>> ans;
        int n = nums.size();
        for (int a = 0; a < n - 3; a++) { // æšä¸¾ç¬¬ä¸€ä¸ªæ•°
            long long x = nums[a]; // ä½¿ç”¨ long long é¿å…æº¢å‡º
            if (a > 0 && x == nums[a - 1]) continue; // è·³è¿‡é‡å¤æ•°å­—
            if (x + nums[a + 1] + nums[a + 2] + nums[a + 3] > target) break; // ä¼˜åŒ–ä¸€
            if (x + nums[n - 3] + nums[n - 2] + nums[n - 1] < target) continue; // ä¼˜åŒ–äºŒ
            for (int b = a + 1; b < n - 2; b++) { // æšä¸¾ç¬¬äºŒä¸ªæ•°
                long long y = nums[b];
                if (b > a + 1 && y == nums[b - 1]) continue; // è·³è¿‡é‡å¤æ•°å­—
                if (x + y + nums[b + 1] + nums[b + 2] > target) break; // ä¼˜åŒ–ä¸€
                if (x + y + nums[n - 2] + nums[n - 1] < target) continue; // ä¼˜åŒ–äºŒ
                int c = b + 1, d = n - 1;
                while (c < d) { // åŒæŒ‡é’ˆæšä¸¾ç¬¬ä¸‰ä¸ªæ•°å’Œç¬¬å››ä¸ªæ•°
                    long long s = x + y + nums[c] + nums[d]; // å››æ•°ä¹‹å’Œ
                    if (s > target) d--;
                    else if (s < target) c++;
                    else { // s == target
                        ans.push_back({(int) x, (int) y, nums[c], nums[d]});
                        for (c++; c < d && nums[c] == nums[c - 1]; c++); // è·³è¿‡é‡å¤æ•°å­—
                        for (d--; d > c && nums[d] == nums[d + 1]; d--); // è·³è¿‡é‡å¤æ•°å­—
                    }
                }
            }
        }
        return ans;
    }
};
```

```cpp
class Solution {
public:
    vector<vector<int>> fourSum(vector<int>& nums, int target) {
        vector<vector<int>> quadruplets;
        if (nums.size() < 4) {
            return quadruplets;
        }
        sort(nums.begin(), nums.end());
        int length = nums.size();
        for (int i = 0; i < length - 3; i++) {
            if (i > 0 && nums[i] == nums[i - 1]) {
                continue;
            }
            if ((long) nums[i] + nums[i + 1] + nums[i + 2] + nums[i + 3] > target) {
                break;
            }
            if ((long) nums[i] + nums[length - 3] + nums[length - 2] + nums[length - 1] < target) {
                continue;
            }
            for (int j = i + 1; j < length - 2; j++) {
                if (j > i + 1 && nums[j] == nums[j - 1]) {
                    continue;
                }
                if ((long) nums[i] + nums[j] + nums[j + 1] + nums[j + 2] > target) {
                    break;
                }
                if ((long) nums[i] + nums[j] + nums[length - 2] + nums[length - 1] < target) {
                    continue;
                }
                int left = j + 1, right = length - 1;
                while (left < right) {
                    long sum = (long) nums[i] + nums[j] + nums[left] + nums[right];
                    if (sum == target) {
                        quadruplets.push_back({nums[i], nums[j], nums[left], nums[right]});
                        while (left < right && nums[left] == nums[left + 1]) {
                            left++;
                        }
                        left++;
                        while (left < right && nums[right] == nums[right - 1]) {
                            right--;
                        }
                        right--;
                    } else if (sum < target) {
                        left++;
                    } else {
                        right--;
                    }
                }
            }
        }
        return quadruplets;
    }
};
//ä½œè€…ï¼šåŠ›æ‰£å®˜æ–¹é¢˜è§£
```

## C++æ”¶è·

### åˆ¤æ–­ä¸¤ä¸ªvectoræ•°ç»„æ˜¯å¦å…ƒç´ ä¸€è‡´

åœ¨C++ä¸­ï¼Œåˆ¤æ–­ä¸¤ä¸ª `std::vector` æ•°ç»„ï¼ˆå‘é‡ï¼‰çš„å…ƒç´ æ˜¯å¦å®Œå…¨ä¸€è‡´ï¼Œå³å®ƒä»¬åŒ…å«ç›¸åŒçš„å…ƒç´ ä¸”é¡ºåºä¹Ÿç›¸åŒï¼Œå¯ä»¥é€šè¿‡å‡ ç§ä¸åŒçš„æ–¹æ³•å®ç°ã€‚ä»¥ä¸‹æ˜¯ä¸¤ç§å¸¸è§çš„æ–¹æ³•ï¼š

#### æ–¹æ³•1ï¼šç›´æ¥æ¯”è¾ƒæ“ä½œç¬¦

C++æ ‡å‡†åº“æä¾›äº†ç›´æ¥æ¯”è¾ƒä¸¤ä¸ª `std::vector` çš„æ“ä½œç¬¦ `==`ã€‚å½“ä¸”ä»…å½“ä¸¤ä¸ªå‘é‡çš„æ¯ä¸ªå¯¹åº”ä½ç½®ä¸Šçš„å…ƒç´ éƒ½ç›¸ç­‰æ—¶ï¼Œæ¯”è¾ƒç»“æœä¸º `true`ã€‚

```cpp
#include <vector>
#include <iostream>

bool areVectorsEqual(const std::vector<int>& vec1, const std::vector<int>& vec2) {
    return vec1 == vec2;
}

int main() {
    std::vector<int> v1 = {1, 2, 3};
    std::vector<int> v2 = {1, 2, 3};
    std::vector<int> v3 = {3, 2, 1};

    std::cout << std::boolalpha << areVectorsEqual(v1, v2) << std::endl; // è¾“å‡º: true
    std::cout << std::boolalpha << areVectorsEqual(v1, v3) << std::endl; // è¾“å‡º: false
    return 0;
}
```

#### æ–¹æ³•2ï¼šéå†æ¯”è¾ƒ

å¦‚æœä½ éœ€è¦æ›´ç»†ç²’åº¦çš„æ§åˆ¶æˆ–è€…æƒ³è¦é¿å…æ½œåœ¨çš„é€’å½’æ¯”è¾ƒï¼ˆå½“ `std::vector` åŒ…å«è‡ªèº«ä½œä¸ºå…ƒç´ æ—¶ï¼‰ï¼Œå¯ä»¥æ‰‹åŠ¨éå†ä¸¤ä¸ªå‘é‡å¹¶æ¯”è¾ƒå®ƒä»¬çš„å…ƒç´ ã€‚

```cpp
bool areVectorsEqual(const std::vector<int>& vec1, const std::vector<int>& vec2) {
    if (vec1.size() != vec2.size()) {
        return false; // å¦‚æœå¤§å°ä¸åŒï¼Œåˆ™ç›´æ¥è¿”å›false
    }
    for (std::size_t i = 0; i < vec1.size(); ++i) {
        if (vec1[i] != vec2[i]) {
            return false; // å‘ç°ä¸åŒ¹é…çš„å…ƒç´ ï¼Œè¿”å›false
        }
    }
    return true; // æ‰€æœ‰å…ƒç´ éƒ½åŒ¹é…ï¼Œè¿”å›true
}
```

è¿™ç§æ–¹æ³•é¦–å…ˆæ£€æŸ¥ä¸¤ä¸ªå‘é‡çš„å¤§å°æ˜¯å¦ç›¸åŒï¼Œå¦‚æœä¸åŒï¼Œåˆ™å®ƒä»¬ä¸å¯èƒ½ç›¸ç­‰ã€‚ç„¶åï¼Œå®ƒéå†å‘é‡çš„æ¯ä¸ªå…ƒç´ å¹¶é€ä¸€æ¯”è¾ƒã€‚å¦‚æœå‘ç°ä»»ä½•ä¸åŒ¹é…çš„å…ƒç´ ï¼Œå‡½æ•°å°†è¿”å› `false`ã€‚å¦‚æœéå†å®Œæˆåæ²¡æœ‰å‘ç°ä¸åŒ¹é…çš„å…ƒç´ ï¼Œå‡½æ•°è¿”å› `true`ã€‚

#### æ³¨æ„äº‹é¡¹

- ä¸¤ç§æ–¹æ³•éƒ½é€‚ç”¨äºæ¯”è¾ƒåŒ…å«åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ `int`ã€`double` ç­‰ï¼‰çš„å‘é‡ã€‚
- å¦‚æœå‘é‡åŒ…å«è‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™äº›ç±»å‹å¿…é¡»å®šä¹‰äº†ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ`operator==`ï¼‰ï¼Œä»¥ä¾¿è¿›è¡Œæ¯”è¾ƒã€‚
- ç›´æ¥æ¯”è¾ƒæ“ä½œç¬¦å¯èƒ½æ›´ç®€æ´ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚å‘é‡å…ƒç´ æ˜¯å¤æ‚ç±»å‹æˆ–è‡ªå®šä¹‰ç±»å‹æ—¶ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨å®ç°æ¯”è¾ƒé€»è¾‘ã€‚

é€‰æ‹©å“ªç§æ–¹æ³•å–å†³äºä½ çš„å…·ä½“éœ€æ±‚å’Œåå¥½ã€‚ç›´æ¥æ¯”è¾ƒæ“ä½œç¬¦é€šå¸¸æ›´ç®€æ´ä¸”æ˜“äºé˜…è¯»ï¼Œè€Œæ‰‹åŠ¨éå†æ¯”è¾ƒæä¾›äº†æ›´å¤šçš„æ§åˆ¶ã€‚

## æˆ‘çš„pythonè§£ç­”

ä¸æ–­ä¿®æ”¹ï¼Œä¸æ–­ä¿®æ”¹ï¼Œä»ä¸‹åˆä¸‰ç‚¹åˆ°16ç‚¹30åˆ†

æ€»ç®—Aå‡ºæ¥äº†ã€‚

æœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼Œç”¨å“ˆå¸Œæ¥å‰ªææ“ä½œæœ‰äº›ç¹çäº†ã€‚

```python
class Solution:
    def fourSum(self, nums: List[int], target: int) -> List[List[int]]:
        nums.sort()
        n = len(nums)
        if n < 4:    return []
        result=[]
        counter = collections.Counter(nums)
        a=0
        b=a+1
        while a<n-3:
            counter[nums[a]]-=1 # å“ˆå¸Œå‡å°‘1
            b=a+1
            while b<n-2:
                counter[nums[b]]-=1
                c=b+1
                d=n-1
                while c<d:
                    counter[nums[c]]-=1
                    counter[nums[d]]-=1
                    if nums[a]+nums[b]+nums[c]+nums[d]<target:
                        counter[nums[c]]+=1
                        c+=counter[nums[c]]
                        counter[nums[d]]+=1
                        continue
                    if nums[a]+nums[b]+nums[c]+nums[d]>target:
                        counter[nums[d]]+=1
                        d-=counter[nums[d]]
                        counter[nums[c]]+=1
                        continue
                    if nums[a]+nums[b]+nums[c]+nums[d]==target:
                        result.append([nums[a],nums[b],nums[c],nums[d]])
                        counter[nums[c]]+=1
                        c+=counter[nums[c]]
                        counter[nums[d]]+=1
                        d-=counter[nums[d]]
                        
                counter[nums[b]]+=1
                b+=counter[nums[b]]
            counter[nums[a]]+=1
            a+=counter[nums[a]]
        return result
```

ç»“æœï¼š

![image-20240512163033702](./assets/image-20240512163033702.png)

## pythonå‚è€ƒç­”æ¡ˆ

```python
class Solution:
    def fourSum(self, nums: List[int], target: int) -> List[List[int]]:
        nums.sort()
        ans = []
        n = len(nums)
        for a in range(n - 3):  # æšä¸¾ç¬¬ä¸€ä¸ªæ•°
            x = nums[a]
            if a and x == nums[a - 1]:  # è·³è¿‡é‡å¤æ•°å­—
                continue
            if x + nums[a + 1] + nums[a + 2] + nums[a + 3] > target:  # ä¼˜åŒ–ä¸€
                break
            if x + nums[-3] + nums[-2] + nums[-1] < target:  # ä¼˜åŒ–äºŒ
                continue
            for b in range(a + 1, n - 2):  # æšä¸¾ç¬¬äºŒä¸ªæ•°
                y = nums[b]
                if b > a + 1 and y == nums[b - 1]:  # è·³è¿‡é‡å¤æ•°å­—
                    continue
                if x + y + nums[b + 1] + nums[b + 2] > target:  # ä¼˜åŒ–ä¸€
                    break
                if x + y + nums[-2] + nums[-1] < target:  # ä¼˜åŒ–äºŒ
                    continue
                # åŒæŒ‡é’ˆæšä¸¾ç¬¬ä¸‰ä¸ªæ•°å’Œç¬¬å››ä¸ªæ•°
                c = b + 1
                d = n - 1
                while c < d:
                    s = x + y + nums[c] + nums[d]  # å››æ•°ä¹‹å’Œ
                    if s > target:
                        d -= 1
                    elif s < target:
                        c += 1
                    else:  # s == target
                        ans.append([x, y, nums[c], nums[d]])
                        c += 1
                        while c < d and nums[c] == nums[c - 1]:  # è·³è¿‡é‡å¤æ•°å­—
                            c += 1
                        d -= 1
                        while d > c and nums[d] == nums[d + 1]:  # è·³è¿‡é‡å¤æ•°å­—
                            d -= 1
        return ans
```

```python
class Solution:
    def fourSum(self, nums: List[int], target: int) -> List[List[int]]:
        quadruplets = list()
        if not nums or len(nums) < 4:
            return quadruplets
        
        nums.sort()
        length = len(nums)
        for i in range(length - 3):
            if i > 0 and nums[i] == nums[i - 1]:
                continue
            if nums[i] + nums[i + 1] + nums[i + 2] + nums[i + 3] > target:
                break
            if nums[i] + nums[length - 3] + nums[length - 2] + nums[length - 1] < target:
                continue
            for j in range(i + 1, length - 2):
                if j > i + 1 and nums[j] == nums[j - 1]:
                    continue
                if nums[i] + nums[j] + nums[j + 1] + nums[j + 2] > target:
                    break
                if nums[i] + nums[j] + nums[length - 2] + nums[length - 1] < target:
                    continue
                left, right = j + 1, length - 1
                while left < right:
                    total = nums[i] + nums[j] + nums[left] + nums[right]
                    if total == target:
                        quadruplets.append([nums[i], nums[j], nums[left], nums[right]])
                        while left < right and nums[left] == nums[left + 1]:
                            left += 1
                        left += 1
                        while left < right and nums[right] == nums[right - 1]:
                            right -= 1
                        right -= 1
                    elif total < target:
                        left += 1
                    else:
                        right -= 1
        
        return quadruplets
#ä½œè€…ï¼šåŠ›æ‰£å®˜æ–¹é¢˜è§£
```

## pythonæ”¶è·

### ç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°å¹¶å¯ä»¥æ ¹æ®æ•°å­—è®¿é—®å‡ºç°çš„é¢‘æ¬¡

åœ¨Pythonä¸­ï¼Œç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°å¹¶å…è®¸æ ¹æ®æ•°å­—è®¿é—®å‡ºç°çš„é¢‘æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®çš„`collections.Counter`ç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸“é—¨çš„å­—å…¸å­ç±»ï¼Œç”¨äºè®¡æ•°å¯å“ˆå¸Œå¯¹è±¡ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨`Counter`çš„ç¤ºä¾‹ï¼š

```python
from collections import Counter

# å‡è®¾è¿™æ˜¯æˆ‘ä»¬çš„æ•°ç»„
array = [1, 2, 2, 3, 3, 3, 4, 4, 4, 4]

# ä½¿ç”¨ Counter ç»Ÿè®¡æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°
counter = Counter(array)

# è¾“å‡ºæ¯ä¸ªæ•°å­—åŠå…¶å‡ºç°çš„æ¬¡æ•°
print(counter)

# æ ¹æ®æ•°å­—è®¿é—®å‡ºç°çš„é¢‘æ¬¡
number = 3
count = counter[number]  # è·å–æ•°å­—3å‡ºç°çš„æ¬¡æ•°
print(f"Number {number} appears {count} times in the array.")
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`Counter(array)` åˆ›å»ºäº†ä¸€ä¸ªè®¡æ•°å™¨å¯¹è±¡ï¼Œå…¶ä¸­é”®æ˜¯æ•°ç»„ä¸­çš„æ•°å­—ï¼Œå€¼æ˜¯è¿™äº›æ•°å­—å‡ºç°çš„æ¬¡æ•°ã€‚ç„¶åï¼Œä½ å¯ä»¥é€šè¿‡æ•°å­—ä½œä¸ºé”®æ¥è®¿é—®å®ƒçš„é¢‘æ¬¡ã€‚

å¦‚æœä½ æƒ³è¦æ‰‹åŠ¨å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä½¿ç”¨`Counter`ï¼Œå¯ä»¥ä½¿ç”¨å­—å…¸æ¥å­˜å‚¨æ¯ä¸ªæ•°å­—çš„è®¡æ•°ï¼š

```python
array = [1, 2, 2, 3, 3, 3, 4, 4, 4, 4]

# åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸æ¥å­˜å‚¨è®¡æ•°
count_dict = {}

# éå†æ•°ç»„å¹¶æ›´æ–°è®¡æ•°
for num in array:
    if num in count_dict:
        count_dict[num] += 1
    else:
        count_dict[num] = 1

# è¾“å‡ºæ¯ä¸ªæ•°å­—åŠå…¶å‡ºç°çš„æ¬¡æ•°
print(count_dict)

# æ ¹æ®æ•°å­—è®¿é—®å‡ºç°çš„é¢‘æ¬¡
number = 3
count = count_dict.get(number, 0)  # ä½¿ç”¨ get æ–¹æ³•ï¼Œå¦‚æœæ•°å­—ä¸åœ¨å­—å…¸ä¸­åˆ™è¿”å›0
print(f"Number {number} appears {count} times in the array.")
```

åœ¨è¿™ä¸ªæ‰‹åŠ¨å®ç°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªç©ºå­—å…¸`count_dict`ï¼Œç„¶åéå†æ•°ç»„ï¼Œå¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å­—ï¼Œå¦‚æœå®ƒå·²ç»åœ¨å­—å…¸ä¸­ï¼Œå°±å°†å…¶è®¡æ•°åŠ ä¸€ï¼Œå¦‚æœä¸åœ¨å­—å…¸ä¸­ï¼Œå°±å°†å…¶æ·»åŠ åˆ°å­—å…¸ä¸­å¹¶è®¾ç½®è®¡æ•°ä¸º1ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨`dict.get()`æ–¹æ³•æ¥è®¿é—®ç‰¹å®šæ•°å­—çš„è®¡æ•°ï¼Œå¦‚æœè¯¥æ•°å­—ä¸åœ¨å­—å…¸ä¸­ï¼Œ`get`æ–¹æ³•å°†è¿”å›é»˜è®¤å€¼0ã€‚